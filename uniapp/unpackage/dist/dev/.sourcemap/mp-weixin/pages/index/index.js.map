{"version":3,"sources":["uni-app:///main.js","webpack:////Users/denny/Documents/GitHub/weapp-shop/uniapp/pages/index/index.vue?10fa","webpack:////Users/denny/Documents/GitHub/weapp-shop/uniapp/pages/index/index.vue?44f9","webpack:////Users/denny/Documents/GitHub/weapp-shop/uniapp/pages/index/index.vue?c8df","uni-app:///pages/index/index.vue","webpack:////Users/denny/Documents/GitHub/weapp-shop/uniapp/pages/index/index.vue?87f5","webpack:////Users/denny/Documents/GitHub/weapp-shop/uniapp/pages/index/index.vue?5fde"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAk1B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+Bt2B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,yF;AACA,I;AACA;AACA,oCADA,E;;AAGA;AACA,iCADA;AAEA,2CAFA;AAGA,6CAHA;AAIA,uCAJA,E;;;AAOA,yB;AACA,oB;AACA,oB;AACA,oB;AACA,kC;AACA,sB;AACA;AACA,qB;AACA;AACA,oB;AACA;AACA,mB;AACA;AACA,uB;AACA;AACA,iC;AACA;AACA,gB;AACA,Y;AACA,yB;AACA,iB;AACA,c;AACA,c;AACA,qB;AACA,S;;AAEA,K;;AAEA,K;;AAEA,Q;;AAEA,S;AACA,K;AACA,M;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,M;AACA;AACA,iBADA,uBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtBA;AAuBA,gBAvBA,sBAuBA,GAvBA,EAuBA;AACA;;AAEA;AACA;AACA;AACA,kBADA;;AAGA,OA/BA;AAgCA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,6BAFA;AAGA;AACA;AACA,WALA;AAMA;AACA;AACA,WARA;;AAUA,OA9CA;AA+CA,mBA/CA,2BA+CA;AACA;AACA,OAjDA;AAkDA,gBAlDA,wBAkDA;AACA;AACA,OApDA,E;;AAsDA,M,4KAjHA,W,EAAA,I,mKACA,I,GAAA,I,CACA,e,GAAA,gE,CACA,M,GAAA,sB,0BACA,uBACA,SACA,cADA,EAEA,sBAFA,EAGA,gBAHA,EADA,G,QAAA,I,iBAOA,8BACA,yFACA,yDACA,iDACA;AACA,yCACA,CACA,CAPA,MAOA,CACA,kCACA,CACA,yBACA,c,6cAKA,sBACA,SADA,G,QAAA,I,kBAGA,8BACA,6BACA,cACA,CAHA,MAGA,CAEA,C,qMAEA,CACA,gBACA,uBACA,iBAEA,eACA,eACA,iBAEA,sBATA,CAUA;AACA,2BAXA,CAYA;AACA,0BAbA,CAcA;AACA,8BAfA,CAgBA;AACA,wCACA,cACA,mBACA,C,4BAyDA;oCACA,CACA,gBACA,wBAFA,CAGA;AACA,gDACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OATA,MASA;AACA;AACA;AACA,K,mBAnLA,kB;;;;;;;;;;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAA6hD,CAAgB,m4CAAG,EAAC,C;;;;;;;;;;ACAjjD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"container\">\n    <swiper class=\"swiper\" indicator-active-color=\"{{indicatorActiveColor}}\" indicator-dots=\"{{indicatorDots}}\" autoplay=\"{{autoplay}}\" interval=\"{{interval}}\" duration=\"{{duration}}\" circular=\"true\">\n        <block v-for=\"item in adList\" >\n        <swiper-item>\n          <image src=\"{{item.picture_url}}\" class=\"slide-image\" @tap=\"goToAdvert({{item.link_url}})\" />\n        </swiper-item>\n      </block>\n    </swiper>\n    <view class=\"pos\">\n      <view class=\"search_read_only\">\n        <navigator class=\"search_content\" open-type=\"navigate\" url=\"/pages/search\">\n          <i class=\"iconfont icon-search\"></i>\n          <view class=\"search_input\">搜索商品</view>\n        </navigator>\n        <navigator class=\"message\" url=\"/pages/messages\">\n          <i class=\"iconfont icon-message cfff\"></i>\n          <view class=\"doc cfff\">消息</view>\n        </navigator>\n      </view>\n    </view>\n\n      <!--矩阵商品列表模块-->\n    <shopGridList :purchasetype.sync=\"purchasetype\" :list.sync=\"list\"></shopGridList>\n    <!--加载更多时动画-->\n    <bottomLoadMore :show.sync=\"showLoading\" message=\"正在加载\"></bottomLoadMore>\n    <!--暂无数据显示-->\n    <placeholder :show.sync=\"is_empty\" message=\"暂无发现数据\"></placeholder>\n    </view>\n</template>\n<script>\nimport wepy from 'wepy';\nimport api from '@/api/api';\nimport tip from '@/utils/tip'\nimport Discover from '@/components/discover'\nimport ShopGridList from '@/components/shop_grid_list'\nimport BottomLoadMore from \"@/components/common/bottomLoadMore\"\nimport Placeholder from \"@/components/common/placeholder\"\nimport {\n  USER_SPECICAL_INFO\n} from '@/utils/constant';\nimport regeneratorRuntime from '@/utils/runtime.js'\nexport default class Home extends wepy.page {\n  config = {\n    navigationBarTitleText: '演示商城',\n  }\n  components = {\n    discover: Discover,\n    shopGridList: ShopGridList,\n    bottomLoadMore: BottomLoadMore,\n    placeholder: Placeholder\n  }\n  data = {\n    indicatorDots: true,\n    autoplay: true,\n    interval: 3000,\n    duration: 1000,\n    indicatorActiveColor: \"#fff\",\n    discoverList: [],\n    //是否有数据\n    is_empty: false,\n    //当前页面\n    currentPage: 1,\n    //总页数\n    page_total: 0,\n    //是否显示 底部loading\n    showLoading: true,\n    //防止重复加载\n    preventRepeatReuqest: false,\n    //广告列表\n    adList: [],\n    tps: 0,\n    is_show_alert: true,\n    catCode: \"\",\n    cate:{},\n    list: [],\n    purchasetype: 1,\n    is_empty: false,\n    //当前页面\n    currentPage: 1,\n    //总页数\n    page_total: 0,\n    //是否显示 底部loading\n    showLoading: true,\n    //防止重复加载\n    preventRepeatReuqest: false,\n    sort: 1,\n    skuval: \"\"\n  }\n\n  async getGoodList(currentPage, size) {\n    let that = this;\n    let userSpecialInfo = wepy.getStorageSync(USER_SPECICAL_INFO) || {};\n    let openid = userSpecialInfo.openid;\n    const json = await api.product({\n      query: {\n        openid:openid,\n        page: currentPage || 1,\n        size: size || 10,\n      }\n    });\n     if (json.statusCode === 200) {\n      that.list = [...that.list, ...json.data.data];\n      that.total_pages = json.data.meta.pagination.total_pages;\n      if (json.data.meta.pagination.total_pages == 0) {\n        //暂无数据\n        that.is_empty = true;\n      }\n    } else {\n      tip.error(json.data.msg);\n    }\n    that.showLoading = false;\n    that.$apply();\n  }\n\n\n  async getAdList() {\n    const json = await api.adList({\n      query: {}\n    });\n   if (json.statusCode === 200) {\n      this.adList = json.data.data;\n      this.$apply();\n    } else {\n\n    }\n  }\n  onLoad() {\n    let that = this;\n    this.discoverList = [];\n    this.getAdList();\n\n    this.cate={};\n    this.list = [];\n    this.skuval = \"\";\n\n    this.is_empty = false;\n    //当前页面\n    this.currentPage = 1;\n    //总页数\n    this.page_total = 0;\n    //是否显示 底部loading\n    this.showLoading = true;\n    //防止重复加载\n    this.preventRepeatReuqest = false;\n    this.sort = 1;\n    this.getGoodList();\n  }\n  computed = {}\n  methods = {\n    currentType(obj) {\n      //tip.success(\"状态:\" + obj);\n      var name = obj.name;\n      var type = obj.type;\n      if (name==\"zhonghe\") {\n        this.sort = -1;\n      } else if (name==\"sale\") {\n        this.sort = 3;\n      } else if (name==\"price\") {\n        if (type==\"desc\") {\n          this.sort = 2;\n        } else if (type==\"asc\") {\n          this.sort = 1;\n        }\n      }else if (name == \"sku\") {\n        this.skuval = type;\n      }\n      this.list = [];\n      this.showLoading = true;\n      this.is_empty = false;\n      this.getGoodList();\n    },\n    goToAdvert(url) {\n      if (url.length == 0) {\n\n        return;\n      }\n      wepy.navigateTo({\n        url: url\n      })\n    },\n    onShareAppMessage: function(res) {\n      if (res.from === 'button') {\n        // 来自页面内转发按钮\n      }\n      return {\n        title: '商城',\n        path: '/pages/home',\n        success: function(res) {\n          // 转发成功\n        },\n        fail: function(res) {\n          // 转发失败\n        }\n      }\n    },\n    alertCallback() {\n      tip.alert('跳转');\n    },\n    closeAlert() {\n     // tip.alert('关闭');\n    }\n  }\n  events = {}\n  //加载更多\n  onReachBottom() {\n    let that = this;\n    that.showLoading = true;\n    //判断总页数是否大于翻页数\n    if ((that.total_pages) > that.currentPage) {\n      //防止重复加载\n      if (that.preventRepeatReuqest) {\n        return true;\n      }\n      that.preventRepeatReuqest = true;\n      that.currentPage++;\n      that.getGoodList(that.currentPage);\n      that.preventRepeatReuqest = false;\n    } else {\n      that.showLoading = false;\n    }\n  };\n}\n\n</script>\n<style lang=\"less\">\n.swiper {\n  height: 348rpx;\n}\n\n.slide-image {\n  width: 100%;\n  height: 100%;\n}\n\n.pos {\n  position: absolute;\n  top: 0rpx;\n  left: 0;\n  right: 0;\n  .search_content {\n    background: rgba(0, 0, 0, 0.1);\n    border: 1px solid #efefee;\n    .icon-search,\n    .search_input {\n      color: #efefee;\n    }\n  }\n  .message {\n    display: block;\n    text-align: center;\n    margin-left: 20rpx;\n  }\n  .doc {\n    font-size: 16rpx;\n    display: block;\n  }\n}\n\n\n.nav_list {\n  color: #404040;\n  display: flex;\n  font-size: 26rpx;\n  justify-content: space-between;\n  padding: 17rpx 50rpx;\n  navigator {\n    text-align: center\n  }\n  .nav_icon {\n    height: 80rpx;\n    margin: 0 auto;\n    width: 80rpx;\n    margin-bottom: 14rpx;\n  }\n  .nav_text {\n    font-size: 26rpx\n  }\n}\n\n.recommend-title {\n  padding: 40rpx 0;\n  text-align: center;\n  color: #333;\n}\n\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608259776240\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}